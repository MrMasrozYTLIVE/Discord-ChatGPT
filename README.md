# Русский | [English](README_EN.md)

# Discord ChatGPT Bot
## Все провайдеры работают и протестированы в Ру регионе. У вас все может работать иначе!
## Работает корректно на версии Python 3.11.5

* **Это сильно модифицированная версия бота: https://github.com/Zero6992/chatGPT-discord-bot/**
* **Отдельно спасибо Zero6992 за открытый код проекта <3**

# Особенности
* **Большая часть модифицированного кода написана как раз через ChatGPT и другие ИИ для эксперемента**
* **Бот может общаться как в канале дискорда, так и в ЛС**

# Отличия от начальной версии
## Главное отличие это поддержка истории диалога бота с каждым пользователем отдельно

* Большее количество чат моделей с использованием **gpt4free** библиотеки: https://github.com/xtekky/gpt4free
* Поддержка SDXL и FLUX моделей для генерации изображений
* Поддержка "памяти" для каждого пользователя которая не сбрасывается при перезапуске бота
* Сброс "памяти" `/reset` работает индивидуально для пользователей и не сбрасывает общую память (none)
* Сохранение используемой модели ИИ для каждого пользователя индивидуально

-----

# Установка
* **Python 3.9 или позднее**
* **Переименуйте файл `.env.example` в `.env`**
* В Терминале Windows выполните `pip3 install -r requirements.txt` | `pip install -r requirements.txt` чтобы установить все требуемые библиотеки
-----
## Создайте своего Discord бота
Скачайте бота: https://github.com/TheFirstNoob/Discord-ChatGPT/archive/refs/heads/main.zip

1. Перейдите в https://discord.com/developers/applications и создайте приложение
2. Перейдите в раздел **Bot** получите Token и вставьте его в `.env` в строку: `DISCORD_BOT_TOKEN`
3. Установите `Server Members Intent` и `Message Content Intent` на **Включено**
4. Перейдите в раздел **OAuth2** и в **OAuth2 URL Generator** поставьте галочку на ***Bot***
5. В **Bot Permissions** поставьте галочки на следующие пункты:
   - View Channels
   - Send Message
   - Send Message in Thread (Если нужно - Не обязательно)
   - Manage Message
   - Manage Thread (Если нужно - Не обязательно)
   - Read Message History
   - Attach Files (Для будущих обновлений)
   - Embed Links
   - Use Slash Commands
6. Скопируйте полученную ссылку и перейдите по ней
7. Пригласите бота в свой дискорд
8. Создайте системный канал чата и через ПКМ скопируйте ID канала
9. Вставьте ID Канала в `.env` в строчку: `DISCORD_CHANNEL_ID`
10. Перейдите в https://deepinfra.com/dash/api_keys и создайте свой API ключ
11. Вставьте DeepInfra API ключ в `.env` в строчку `DEEPINFRA_API_KEY`
12. Настройте стартовый промпт на ваш вкус в файле `system_prompt.txt`
-----
## Запуск бота на Windows
* Если корректно установлен IDE, то просто двойным кликом запустите `main.py`
* **ИЛИ**
* Откройте терминал в папке с ботом и напишите: `py main.py` / `python3 main.py` / `python main.py`

**Бот запущен :)**
-----
## Команды

**ОСНОВНЫЕ:**
1. `/ask {Ваш запрос} {Дополнительный запрос}`: Чат с ИИ (в ЛС создается отдельная память ваших запросов)
2. `/draw {Ваш запрос на Англ.языке} {Сервис}`: Создайте изображение с помощью SDXL или FLUX модели

**ИНФОРМАЦИЯ:**
1. `/help`: Вывести информацию как пользоваться Hitagi ChatGPT (выводит список команд)
2. `/modelinfo`: Вывести информацию о конкретной модели (оставил свои примеры)
3. `/info`: Вывести информацию о самом проекте Hitagi ChatGPT (Оставил свой пример)
4. `/changelog`: Вывести информацию об изменениях в конкретной версии (оставил свои примеры)

**УПРАВЛЕНИЕ:**
1. `/reset`: Сбросить историю вашего диалога
2. `/chat-model {Модель ИИ}`: Сменить чат модель
